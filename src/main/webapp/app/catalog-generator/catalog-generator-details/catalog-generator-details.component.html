
<div class="order_detail_form ">
    <p-panel header="Dodatkowe informacje">
        <form id="catalogForm" validate #form="ngForm" (submit)="submitForm(form)">



            <div class="form-group">
                <small id="catalog_nameDescript" class="text-muted">Nazwa katalogu</small>
                <input type="text" name="catalog_name" #catalog_name="ngModel"  class="form-control" size="50" maxlength="25" aria-describedby="catalog_nameDesc" required [(ngModel)]="catalogArchive.catalogName">
                <ul class="text-danger list-unstyled" *ngIf="catalog_name.dirty||formSubmitted">
                    <li  *ngIf="catalog_name.errors?.required">Wprowadz nazwę katalogu</li>
                    <li  *ngIf="catalog_name.errors?.maxlength">Nazwa katalogu może mieć maksymalnie 32 znaki</li>
                </ul>
            </div>







            <div class="form-group">
                <small id="catalogForDescript" class="text-muted">Katalog dla</small>
                <input type="text" name="catalog_for" #catalog_for="ngModel"  class="form-control" size="50"  maxlength="25" aria-describedby="catalog_forDesc"  [(ngModel)]="catalogArchive.forWho">
                <ul class="text-danger list-unstyled" *ngIf="catalog_for.dirty|| formSubmitted">
                    <li  *ngIf="catalog_for.errors?.required">Wprowadź dla jakiej firmy przeznaczony jest katalog</li>
                </ul>
            </div>



            <p-fieldset legend="Opiekun klienta">

                <div class="form-group">
                    <small id="customerAssistantNameDescript" class="text-muted">Imię i nazwisko opiekuna</small>
                    <input type="text" name="customerAssistantName" #customerAssistantName="ngModel"  class="form-control" maxlength="40" size="300"  aria-describedby="catalog_forDesc"  [(ngModel)]="catalogArchive.customerAssistantName">
                    <ul class="text-danger list-unstyled" *ngIf="customerAssistantName.dirty|| formSubmitted">
                        <li  *ngIf="customerAssistantName.errors?.required">Wprowadź opiekuna firmy</li>
                    </ul>
                </div>

                <div class="form-group">
                    <small id="customerAssistantEmailDescript" class="text-muted">Email</small>
                    <input type="text" name="customerAssistantEmail" #customerAssistantEmail="ngModel"  class="form-control"  maxlength="35" size="300"  aria-describedby="catalog_forDesc" [(ngModel)]="catalogArchive.customerAssistantEmail">
                    <ul class="text-danger list-unstyled" *ngIf="customerAssistantEmail.dirty|| formSubmitted">
                        <li  *ngIf="customerAssistantEmail.errors?.required">Wprowadź email</li>
                    </ul>
                </div>

                <div class="form-group">
                    <small id="customerAssistantPhoneDescript" class="text-muted">Telefon</small>
                    <input type="text" name="customerAssistantPhone" #customerAssistantPhone="ngModel"  class="form-control" size="300"  maxlength="20"  aria-describedby="catalog_forDesc"  [(ngModel)]="catalogArchive.customerAssistantTel">
                    <ul class="text-danger list-unstyled" *ngIf="customerAssistantPhone.dirty|| formSubmitted">
                        <li  *ngIf="customerAssistantPhone.errors?.required">Wprowadź telefon</li>
                    </ul>
                </div>




            </p-fieldset>




            <p-fieldset legend="Wybierz motyw">
                <div class="theme-content">
                    <p-card   class="" [(title)]="themesImages[themeIndex].name" [style]="{width: '550px',height:'700px'}">

                        <img  [(src)]="themesImages[themeIndex].img" alt="Galleria 1" height="630" width="534" />

                    </p-card>



                    <button class="btn theme-btn" type="button" (click)="prevTheme()"> <i class="fa fa-arrow-left "></i> poprzedni motyw</button>
                    <button class="btn theme-btn" type="button" (click)="nextTheme()">następny motyw <i class="fa fa-arrow-right "></i> </button>
                </div>

            </p-fieldset>

            <!--<div class="form-group">-->
                <!--<small id="catalogThemeDescript" class="text-muted">Motyw</small>-->
                <!--<input type="text" name="catalogTheme" #catalogTheme="ngModel"  class="form-control" size="300"  aria-describedby="catalogThemeDesc" required [(ngModel)]="catalogArchive.catalogTheme">-->
                <!--<ul class="text-danger list-unstyled" *ngIf="catalogTheme.dirty|| formSubmitted">-->
                    <!--<li  *ngIf="catalogTheme.errors?.required">wpisz motyw</li>-->
                <!--</ul>-->
            <!--</div>-->





            <!--<div class="form-group">-->
                <!--<label for="exampleFormControlSelect1">Wybierz motyw</label>-->
                <!--<select name="profile" class="form-control" id="exampleFormControlSelect1" #catalogTheme="ngModel" [(ngModel)]="catalogArchive.catalogTheme" required>-->
                    <!--<option  *ngFor="let theme of themesImages" [value]="theme.name" >{{theme.name}}</option>-->
                <!--</select>-->
                <!--<ul class="text-danger list-unstyled" *ngIf="catalogTheme.dirty|| formSubmitted">-->
                    <!--<li  *ngIf="catalogTheme.errors?.required">Wybierz motyw</li>-->
                <!--</ul>-->
            <!--</div>-->



            <!--<select name="profile" ngModel>-->
                <!--<option *ngFor="let theme of themesImage" [ngValue]="prf">-->
                    <!--{{ prf.prName }}-->
                <!--</option>-->
            <!--</select>-->


            <!--<select [compareWith]="compareSupplier" class="form-control"  #supplier="ngModel" [(ngModel)]="product.supplier" name="supplier"  required >-->
                <!--<option *ngFor="let item of productSuppliers"  [ngValue]="item"  >{{item.supplierName}}</option>-->
            <!--</select>-->



            <div class="form-group filebox">
                <label class="form-control-label" for="field_logo">Wgraj logo , max 2MB. Możliwe formaty to .jpg .png</label>
                <div>
                    <div *ngIf="catalogArchive.logo" class="form-text clearfix">
                        <a class="pull-left" (click)="openFile(catalogArchive.logoContentType, catalogArchive.logo)"></a><br>
                        <span class="pull-left">{{catalogArchive.logoContentType}}, {{size| number:'1.1-2'}} MB</span>
                        <button type="button" (click)="catalogArchive.logo=null;catalogArchive.logoContentType=null;imgType.nativeElement.value = '';this.image=null"
                                class="btn btn-secondary btn-xs pull-right">
                            <fa-icon [icon]="'times'"></fa-icon>
                        </button>
                    </div>

                    <input  #coverFilesInput  type="file" id="file_logo" accept="image/png, image/jpeg"    (change)="setFileData($event, catalogArchive, 'logo', false);onChange($event)"/>


                </div>
                <input type="hidden" class="form-control" name="logo" id="field_logo" #logo="ngModel"
                       [(ngModel)]="catalogArchive.logo"  />
                <!--<input type="hidden" class="form-control" name="logoContentType" id="field_logoContentType"-->
                       <!--[(ngModel)]="catalogArchive.logoContentType" />-->

                <!--<ul class="text-danger list-unstyled" *ngIf="formSubmitted">-->
                    <!--<li  *ngIf="logo.errors?.required">To pole nie może być puste</li>-->
                <!--</ul>-->
                <ul class="text-danger list-unstyled" *ngIf="uploadSuccess && !chceckImageValid()">
                    <li >Błąd. Plik nie spełnia wymagań. Wgrany plik ma typ  {{fileType}} rozmiar: {{size| number:'1.1-2'}}MB rozdzielczośc {{width}} x {{height}} px</li>
                </ul>
            </div>



            <div class="form-group">
                <small id="catalogLastPageDescDescript" class="text-muted">Informacje na ostatnią stronę</small>
                <!--<input type="text" name="catalogLastPageDesc" #catalogLastPageDesc="ngModel"  class="form-control" size="300"  aria-describedby="catalog_forDesc" required [(ngModel)]="catalogArchive.catalogAdditionalDesc">-->
                <textarea type="text" name="catalogLastPageDesc" #catalogLastPageDesc="ngModel"  class="form-control" [maxlength]="550"   aria-describedby="catalog_forDesc" [(ngModel)]="catalogArchive.catalogAdditionalDesc"> </textarea>
                <ul class="text-danger list-unstyled" *ngIf="catalogLastPageDesc.dirty|| formSubmitted">
                    <li  *ngIf="catalogLastPageDesc.errors?.required">Wprowadź informacje dodatkowe na ostatnią stronę</li>
                </ul>
            </div>
<button class="btn bg-primary " type="submit"  form="catalogForm" >Generuj katalog</button>

        </form>
        <!--<div *ngIf="orderItems.length<1 && formSubmitted" class="alert alert-danger" role="alert">-->
            <!--<strong>Błąd. Zamówienie nie może być puste</strong>-->
<!--<form>-->
    <!--<input  type="file" id="file_logo2" name="file_logo2" accept="image/png, image/jpeg" />-->
    <!--<input  type="file" id="file_logo3" name="file_logo2"  />-->
<!--</form>-->

        <!--</div>-->
    </p-panel>

</div>

<!--<div>-->

    <!--<img  *ngIf="basket.isAlcoholic==1" class="alcohol_img" src="/content/images/kieliszek.jpg" alt="Galleria 1" height="32" width="32" />-->



<!--</div>-->



<p-dialog *ngIf="!showThemePickerVisible" #dg header="Generowanie katalogu" closeOnEscape="true" modal="false" width="400" height="200" [(visible)]="showPdfGenStatusModal" (onHide)="showPdfGenStatusModal=false"  >

   <div *ngIf="!fileFilterLoaded" class="loading fadeIn">
       <p-progressSpinner ></p-progressSpinner>
       <p> Trwa generowanie katalogu </p>
   </div>

    <div *ngIf="fileFilterLoaded" class="loading fadeIn">

        <p class="pdf_link" (click)="openPdfInBrowser()"> Pobierz katalog </p>
    </div>


</p-dialog>





<p-dialog #dg2 [style]="{width: '800px', height: '800px'}" header="Wybierz motyw"  clocloseOnEscape="true" modal="false" width="800" height="800" [(visible)]="showThemePickerVisible" (onHide)="closeThemePicker()" >

    <p-card   class="" title="Motyw 1" [style]="{width: '500px',height:'500px'}">

        <img  src="http://www.kosze.waw.pl/images/basketext/theme-prev/1a.jpg" alt="Galleria 1" height="225" width="400" />

    </p-card>



</p-dialog>


<p-lightbox [images]="themesPrevImg"></p-lightbox>



<!--<p-dialog header="Wybierz motyw" modal="true" width="1000" [(visible)]="showThemePickerVisible" >-->
    <!--<p-galleria [images]="images" panelWidth="500" panelHeight="313" [showCaption]="true"></p-galleria>-->
<!--</p-dialog>-->
